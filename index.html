<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="يوسف للذكاء الطبي - مساعد طبي ذكي متقدم لتقديم استشارات طبية دقيقة وشاملة">
    <title>Medixio - Advanced Medical AI Assistant</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* ===== SIMPLE CSS VARIABLES ===== */
        :root {
            --primary: #1e40af;
            --primary-light: #3b82f6;
            --secondary: #059669;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
            
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            
            --space-xs: 0.5rem;
            --space-sm: 0.75rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
        }

        /* ===== BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: #f8fafc;
            color: var(--gray-900);
            line-height: 1.6;
        }

        /* ===== SIMPLE CHAT CONTAINER ===== */
        .chat-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--white);
        }

        /* ===== SIMPLE HEADER ===== */
        .chat-header {
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow-sm);
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-icon {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.2rem;
        }

        .header-title h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #dcfce7;
            color: var(--secondary);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--secondary);
            border-radius: 50%;
        }

        /* ===== CONTACT DROPDOWN ===== */
        .contact-container {
            position: relative;
        }

        .contact-btn {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border: none;
            border-radius: 50%;
            color: var(--white);
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
        }

        .contact-btn:hover {
            background: var(--primary-light);
        }

        .contact-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.5rem;
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            min-width: 280px;
            max-width: 320px;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .contact-container:hover .contact-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* Ensure dropdown stays within viewport */
        .contact-dropdown {
            max-height: 80vh;
            overflow-y: auto;
        }

        .contact-header {
            padding: 1rem;
            background: var(--primary);
            color: var(--white);
            border-radius: var(--radius-md) var(--radius-md) 0 0;
            text-align: center;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .contact-list {
            padding: 1rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: var(--radius-sm);
            transition: background-color 0.2s ease;
            text-decoration: none;
            color: var(--gray-700);
        }

        .contact-item:hover {
            background: var(--gray-50);
            color: var(--primary);
        }

        .contact-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .contact-icon.email {
            background: #ea4335;
        }

        .contact-icon.phone {
            background: #25d366;
        }

        .contact-icon.whatsapp {
            background: #25d366;
        }

        .contact-icon.linkedin {
            background: #0077b5;
        }

        .contact-icon.facebook {
            background: #1877f2;
        }

        .contact-icon.instagram {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
        }

        .contact-info {
            flex: 1;
            min-width: 0;
        }

        .contact-label {
            font-size: 0.8rem;
            color: var(--gray-500);
            margin-bottom: 0.25rem;
        }

        .contact-value {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--gray-800);
            word-break: break-word;
            overflow-wrap: break-word;
        }

        .contact-item:hover .contact-value {
            color: var(--primary);
        }

        /* ===== SIMPLE MESSAGES AREA ===== */
        .messages-container {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            background: var(--gray-50);
        }

        /* ===== SIMPLE WELCOME MESSAGE ===== */
        .welcome-message {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-lg);
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow-md);
            max-width: 600px;
            margin: 0 auto;
        }

        .messages-container.has-messages .welcome-message {
            display: none;
        }

        .welcome-icon {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.5rem;
            margin: 0 auto 1rem;
        }

        .welcome-message h2 {
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .welcome-message .subtitle {
            color: var(--gray-600);
            font-size: 1.1rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .welcome-message .description {
            color: var(--gray-700);
            font-size: 1rem;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        /* ===== SIMPLE QUICK ACTIONS ===== */
        .quick-actions-section {
            margin: 2rem 0;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 1rem;
            text-align: center;
        }

        .quick-actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .quick-action-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quick-action-card:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
        }

        .quick-action-icon {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            margin: 0 auto 0.5rem;
        }

        .quick-action-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 0.25rem;
        }

        .quick-action-description {
            font-size: 0.8rem;
            color: var(--gray-600);
        }

        /* ===== SIMPLE CATEGORIES ===== */
        .medical-categories-section {
            margin: 2rem 0;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .category-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .category-card:hover {
            border-color: var(--primary);
            box-shadow: var(--shadow-md);
        }

        .category-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .category-icon {
            width: 35px;
            height: 35px;
            background: var(--primary);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
        }

        .category-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-800);
        }

        .category-description {
            font-size: 0.9rem;
            color: var(--gray-600);
            line-height: 1.4;
        }

        /* ===== SIMPLE START CHAT ===== */
        .start-chat-section {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--gray-200);
        }

        .start-chat-btn {
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: var(--radius-md);
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .start-chat-btn:hover {
            background: var(--primary-light);
        }

        /* ===== SIMPLE DISCLAIMER ===== */
        .disclaimer-section {
            margin-top: 1.5rem;
            padding: 1rem;
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: var(--radius-md);
            text-align: center;
        }

        .disclaimer-text {
            font-size: 0.9rem;
            color: var(--gray-700);
            line-height: 1.4;
        }

        .disclaimer-text strong {
            color: var(--gray-800);
            font-weight: 600;
        }

        /* ===== SIMPLE MESSAGE STYLES ===== */
        .message {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message.user .message-avatar {
            background: var(--primary);
            color: var(--white);
        }

        .message.bot .message-avatar {
            background: var(--secondary);
            color: var(--white);
        }

        .message-content {
            max-width: 70%;
            padding: 0.75rem 1rem;
            border-radius: var(--radius-md);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .message.user .message-content {
            background: var(--primary);
            color: var(--white);
        }

        .message.bot .message-content {
            background: var(--white);
            color: var(--gray-900);
            border: 1px solid var(--gray-200);
        }

        .message-time {
            font-size: 0.8rem;
            color: var(--gray-400);
            margin-top: 0.25rem;
            text-align: center;
        }

        .message.user .message-time {
            color: rgba(255, 255, 255, 0.7);
        }

        /* ===== SIMPLE TYPING INDICATOR ===== */
        .typing-indicator {
            display: none;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .typing-indicator.show {
            display: flex;
        }

        .typing-dots {
            display: flex;
            gap: 0.25rem;
            padding: 0.75rem 1rem;
            background: var(--white);
            border-radius: var(--radius-md);
            border: 1px solid var(--gray-200);
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: var(--gray-400);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
            30% { transform: translateY(-8px); opacity: 1; }
        }

        /* ===== SIMPLE INPUT AREA ===== */
        .input-area {
            background: var(--white);
            border-top: 1px solid var(--gray-200);
            padding: 1.5rem 2rem;
        }

        .input-wrapper {
            display: flex;
            gap: 0.75rem;
            align-items: flex-end;
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-lg);
            padding: 0.5rem;
        }

        .input-wrapper:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(30, 64, 175, 0.1);
        }

        .input-field {
            flex: 1;
            min-height: 40px;
            max-height: 120px;
            padding: 0.75rem 1rem;
            border: none;
            border-radius: var(--radius-md);
            font-size: 1rem;
            background: transparent;
            color: var(--gray-900);
            resize: none;
            outline: none;
            font-family: 'Cairo', sans-serif;
            line-height: 1.5;
        }

        .input-field::placeholder {
            color: var(--gray-400);
        }

        .send-btn {
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: var(--radius-md);
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease;
        }

        .send-btn:hover {
            background: var(--primary-light);
        }

        .send-btn:disabled {
            background: var(--gray-300);
            color: var(--gray-500);
            cursor: not-allowed;
        }

        /* ===== SIMPLE ERROR MESSAGE ===== */
        .error-message {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fca5a5;
            border-radius: var(--radius-md);
            padding: 1rem;
            margin: 1rem 0;
            font-weight: 600;
        }

        /* ===== SIMPLE RESPONSIVE DESIGN ===== */
        @media (max-width: 768px) {
            .chat-header {
                padding: 0.75rem 1rem;
            }

            .header-title h1 {
                font-size: 1.2rem;
            }

            .header-actions {
                gap: 0.5rem;
            }

            .contact-dropdown {
                min-width: 250px;
                max-width: calc(100vw - 2rem);
                right: auto;
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
            }

            .contact-container:hover .contact-dropdown {
                transform: translateX(-50%) translateY(0);
            }

            .contact-value {
                font-size: 0.8rem;
            }

            .status-indicator {
                padding: 0.25rem 0.5rem;
                font-size: 0.8rem;
            }

            .messages-container {
                padding: 1rem;
            }

            .welcome-message {
                padding: 1.5rem;
                margin: 0 0.5rem;
            }

            .welcome-message h2 {
                font-size: 1.5rem;
            }

            .quick-actions-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }

            .categories-grid {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }

            .message-content {
                max-width: 85%;
                font-size: 0.9rem;
            }

            .input-area {
                padding: 1rem;
            }

            .input-wrapper {
                gap: 0.5rem;
                padding: 0.25rem;
            }

            .input-field {
                min-height: 36px;
                padding: 0.5rem 0.75rem;
                font-size: 0.9rem;
            }

            .send-btn {
                width: 36px;
                height: 36px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .chat-header {
                padding: 0.5rem;
            }

            .header-icon {
                width: 32px;
                height: 32px;
                font-size: 1rem;
            }

            .header-title h1 {
                font-size: 1rem;
            }

            .header-actions {
                gap: 0.25rem;
            }

            .contact-btn {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
            }

            .contact-dropdown {
                min-width: 220px;
                max-width: calc(100vw - 1rem);
                max-height: 70vh;
            }

            .contact-item {
                padding: 0.5rem;
            }

            .contact-icon {
                width: 28px;
                height: 28px;
                font-size: 0.8rem;
            }

            .contact-value {
                font-size: 0.75rem;
            }

            .status-indicator {
                padding: 0.25rem 0.5rem;
                font-size: 0.75rem;
            }

            .status-dot {
                width: 6px;
                height: 6px;
            }

            .messages-container {
                padding: 0.75rem;
            }

            .welcome-message {
                padding: 1rem;
            }

            .welcome-icon {
                width: 48px;
                height: 48px;
                font-size: 1.2rem;
            }

            .welcome-message h2 {
                font-size: 1.3rem;
            }

            .quick-actions-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.5rem;
            }

            .quick-action-card {
                padding: 0.75rem 0.5rem;
            }

            .quick-action-icon {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
            }

            .quick-action-title {
                font-size: 0.8rem;
            }

            .quick-action-description {
                font-size: 0.7rem;
            }

            .category-card {
                padding: 1rem;
            }

            .category-icon {
                width: 28px;
                height: 28px;
                font-size: 0.8rem;
            }

            .category-title {
                font-size: 0.9rem;
            }

            .category-description {
                font-size: 0.8rem;
            }

            .start-chat-btn {
                padding: 0.75rem 1.5rem;
                font-size: 1rem;
            }

            .input-area {
                padding: 0.75rem;
            }

            .input-wrapper {
                gap: 0.25rem;
                padding: 0.25rem;
            }

            .input-field {
                min-height: 32px;
                padding: 0.5rem;
                font-size: 0.85rem;
            }

            .send-btn {
                width: 32px;
                height: 32px;
                font-size: 0.85rem;
            }
        }

        /* ===== SIMPLE SCROLLBAR ===== */
        .messages-container::-webkit-scrollbar {
            width: 6px;
        }

        .messages-container::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        .messages-container::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: 3px;
        }

        .messages-container::-webkit-scrollbar-thumb:hover {
            background: var(--gray-400);
        }

        /* ===== SIMPLE LOADING ===== */
        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--white);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .language-selector-container {
            margin-right: 1rem;
        }
        .language-selector {
            padding: 0.3rem 1.2rem 0.3rem 0.5rem;
            border-radius: 8px;
            border: 1px solid var(--gray-300);
            font-size: 1rem;
            background: var(--white);
            color: var(--primary);
            font-family: inherit;
            cursor: pointer;
        }
        .language-selector:focus {
            outline: 2px solid var(--primary);
        }
        @media (max-width: 768px) {
            .language-selector-container {
                margin-right: 0.5rem;
            }
            .language-selector {
                font-size: 0.9rem;
                padding: 0.2rem 0.7rem 0.2rem 0.3rem;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <header class="chat-header">
            <div class="header-content">
                <div class="header-icon">
                    <i class="fas fa-stethoscope"></i>
                </div>
                <div class="header-title">
                    <h1 id="siteTitle">Medixio للذكاء الطبي</h1>
                </div>
                <div class="language-selector-container">
                    <select id="languageSelector" class="language-selector" aria-label="اختر اللغة">
                        <option value="en">English</option>
                        <option value="tr">Türkçe</option>
                        <option value="fr">Français</option>
                        <option value="es">Español</option>
                        <option value="ar">العربية (الفصحى)</option>
                        <option value="ar-eg">العربية (المصرية)</option>
                    </select>
                </div>
            </div>
            <div class="header-actions">
                <div class="contact-container">
                    <button class="contact-btn" title="اتصل بنا">
                        <i class="fas fa-address-book"></i>
                    </button>
                    <div class="contact-dropdown">
                        <div class="contact-header">اتصل بنا</div>
                        <div class="contact-list">
                            <a href="mailto:y.abdellatif2048@su.edu.eg" class="contact-item">
                                <div class="contact-icon email">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="contact-info">
                                    <div class="contact-label">البريد الإلكتروني</div>
                                    <div class="contact-value">y.abdellatif2048@su.edu.eg</div>
                                </div>
                            </a>
                            <a href="tel:+2001068587688" class="contact-item">
                                <div class="contact-icon phone">
                                    <i class="fas fa-phone"></i>
                                </div>
                                <div class="contact-info">
                                    <div class="contact-label">الهاتف</div>
                                    <div class="contact-value">+20 010 685 876 88</div>
                                </div>
                            </a>
                            <a href="https://wa.me/2001068587688" target="_blank" class="contact-item">
                                <div class="contact-icon whatsapp">
                                    <i class="fab fa-whatsapp"></i>
                                </div>
                                <div class="contact-info">
                                    <div class="contact-label">واتساب</div>
                                    <div class="contact-value">+20 010 685 876 88</div>
                                </div>
                            </a>
                            <a href="https://www.linkedin.com/in/youssef-ibrahim-gaber-abdellatif" target="_blank" class="contact-item">
                                <div class="contact-icon linkedin">
                                    <i class="fab fa-linkedin-in"></i>
                                </div>
                                <div class="contact-info">
                                    <div class="contact-label">LinkedIn</div>
                                    <div class="contact-value">Youssef Ibrahim Gaber Abdellatif</div>
                                </div>
                            </a>
                            <a href="https://www.facebook.com/Youssef.Ibrahim004" target="_blank" class="contact-item">
                                <div class="contact-icon facebook">
                                    <i class="fab fa-facebook-f"></i>
                                </div>
                                <div class="contact-info">
                                    <div class="contact-label">Facebook</div>
                                    <div class="contact-value">Youssef.Ibrahim004</div>
                                </div>
                            </a>
                            <a href="https://www.instagram.com/Youssef.Ibrahim004" target="_blank" class="contact-item">
                                <div class="contact-icon instagram">
                                    <i class="fab fa-instagram"></i>
                                </div>
                                <div class="contact-info">
                                    <div class="contact-label">Instagram</div>
                                    <div class="contact-value">@Youssef.Ibrahim004</div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="status-indicator">
                    <span class="status-dot"></span>
                    <span>متصل</span>
                </div>
            </div>
        </header>

        <main class="messages-container" id="messagesContainer">
            <div class="welcome-message" id="welcomeMessage">
                <div class="welcome-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <h2 id="welcomeTitle">Medixio للذكاء الطبي</h2>
                <p class="subtitle" id="welcomeSubtitle">مساعد طبي ذكي متقدم</p>
                <p class="description" id="welcomeDesc">احصل على استشارات طبية دقيقة وشاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. يمكنني مساعدتك في تحليل الأعراض، اقتراح الفحوصات، وتقديم نصائح طبية موثوقة.</p>
                
                <!-- Quick Actions Section -->
                <section class="quick-actions-section">
                    <h3 class="section-title" id="quickActionsTitle">استشارات سريعة</h3>
                    <div class="quick-actions-grid" id="quickActionsGrid">
                        <!-- Quick actions will be rendered by JS -->
                    </div>
                </section>

                <!-- Medical Categories Section -->
                <section class="medical-categories-section">
                    <h3 class="section-title">التخصصات الطبية</h3>
                    <div class="categories-grid">
                        <div class="category-card" onclick="sendQuickAction('استشارة في أمراض القلب')">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-heartbeat"></i>
                                </div>
                                <div class="category-title">أمراض القلب</div>
                            </div>
                            <div class="category-description">تشخيص وعلاج أمراض القلب والأوعية الدموية</div>
                        </div>
                        <div class="category-card" onclick="sendQuickAction('استشارة في الجهاز التنفسي')">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-lungs"></i>
                                </div>
                                <div class="category-title">الجهاز التنفسي</div>
                            </div>
                            <div class="category-description">أمراض الرئة والجهاز التنفسي</div>
                        </div>
                        <div class="category-card" onclick="sendQuickAction('استشارة في الجهاز الهضمي')">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-stomach"></i>
                                </div>
                                <div class="category-title">الجهاز الهضمي</div>
                            </div>
                            <div class="category-description">أمراض المعدة والأمعاء</div>
                        </div>
                        <div class="category-card" onclick="sendQuickAction('استشارة في الأمراض العصبية')">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-brain"></i>
                                </div>
                                <div class="category-title">الأمراض العصبية</div>
                            </div>
                            <div class="category-description">أمراض الدماغ والجهاز العصبي</div>
                        </div>
                        <div class="category-card" onclick="sendQuickAction('استشارة في الغدد الصماء')">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-seedling"></i>
                                </div>
                                <div class="category-title">الغدد الصماء</div>
                            </div>
                            <div class="category-description">أمراض السكري والغدد</div>
                        </div>
                        <div class="category-card" onclick="sendQuickAction('استشارة في طب الأطفال')">
                            <div class="category-header">
                                <div class="category-icon">
                                    <i class="fas fa-baby"></i>
                                </div>
                                <div class="category-title">طب الأطفال</div>
                            </div>
                            <div class="category-description">صحة الأطفال والرضع</div>
                        </div>
                    </div>
                </section>

                <!-- Start Chat Section -->
                <section class="start-chat-section">
                    <button class="start-chat-btn" onclick="document.getElementById('messageInput').focus()">
                        <i class="fas fa-comments"></i>
                        ابدأ المحادثة الآن
                    </button>
                </section>

                <!-- Disclaimer Section -->
                <section class="disclaimer-section">
                    <p class="disclaimer-text">
                        <strong>تنبيه مهم:</strong> هذه الاستشارات هي لأغراض إعلامية فقط ولا تغني عن استشارة الطبيب المختص. 
                        في الحالات الطارئة، يرجى التوجه فوراً إلى أقرب مركز طبي.
                    </p>
                </section>
            </div>

            <div class="typing-indicator" id="typingIndicator">
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>
        </main>

        <footer class="input-area">
            <div class="input-wrapper">
                <textarea 
                    id="messageInput" 
                    class="input-field" 
                    placeholder="اكتب رسالتك هنا..."
                    rows="1"
                ></textarea>
                <button id="sendBtn" class="send-btn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </footer>
    </div>

    <script>
        class MedicalChatbot {
            constructor() {
                this.messagesContainer = document.getElementById('messagesContainer');
                this.messageInput = document.getElementById('messageInput');
                this.sendBtn = document.getElementById('sendBtn');
                this.typingIndicator = document.getElementById('typingIndicator');
                this.isTyping = false;
                this.messageCount = 0;
                this.lastMessageTime = 0;
                this.language = 'ar';
                this.conversation = [];
                this.setupEventListeners();
                this.updateSendButtonState();
            }

            setupEventListeners() {
                // Auto-resize textarea
                this.messageInput.addEventListener('input', () => {
                    this.messageInput.style.height = 'auto';
                    this.messageInput.style.height = Math.min(this.messageInput.scrollHeight, 150) + 'px';
                    this.updateSendButtonState();
                });

                // Send message on Enter (but allow Shift+Enter for new line)
                this.messageInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.handleSendMessage();
                    }
                });

                // Send button click
                this.sendBtn.addEventListener('click', () => this.handleSendMessage());

                // Focus on input when page loads
                this.messageInput.focus();

                // Rate limiting for message sending
                this.setupRateLimiting();

                // Language selector
                const langSelector = document.getElementById('languageSelector');
                if (langSelector) {
                    langSelector.addEventListener('change', (e) => {
                        this.language = e.target.value;
                        // Optionally clear messages or show a notice
                    });
                }
            }

            setupRateLimiting() {
                const minInterval = 1000; // 1 second between messages
                
                this.handleSendMessage = throttle(async () => {
                    const now = Date.now();
                    if (now - this.lastMessageTime < minInterval) {
                        return;
                    }
                    this.lastMessageTime = now;
                    
                    const message = this.messageInput.value.trim();
                    if (!message || this.isTyping) return;

                    // Add user message
                    this.addMessage(message, 'user');
                    this.messageInput.value = '';
                    this.messageInput.style.height = 'auto';
                    this.isTyping = true;
                    this.updateSendButtonState();

                    // Show typing indicator
                    this.showTypingIndicator();

                    try {
                        const response = await this.sendToAI(message);
                        this.hideTypingIndicator();
                        this.addMessage(response, 'bot');
                    } catch (error) {
                        this.hideTypingIndicator();
                        this.addErrorMessage('عذراً، حدث خطأ في الاتصال. يرجى المحاولة مرة أخرى.');
                        console.error('Error:', error);
                    } finally {
                        this.isTyping = false;
                        this.updateSendButtonState();
                        this.messageInput.focus();
                    }
                }, minInterval);
            }

            updateSendButtonState() {
                const hasText = this.messageInput.value.trim().length > 0;
                this.sendBtn.disabled = !hasText || this.isTyping;
                
                if (this.isTyping) {
                    this.sendBtn.innerHTML = '<div class="loading"></div>';
                } else {
                    this.sendBtn.innerHTML = '<i class="fas fa-paper-plane"></i>';
                }
            }

            getSystemPrompt() {
                switch (this.language) {
                    case 'en':
                        return `You are "Medixio", a smart, advanced medical assistant. You provide detailed, professional medical consultations in English, using the latest AI technology.\n\nYour tasks:\n- Analyze symptoms and medical history\n- Suggest lab and imaging tests\n- Provide stepwise treatment plans\n- Explain diseases and treatments in simple terms\n- Give prevention and follow-up advice\n- Always stress the need for emergency care in urgent cases`;
                    case 'tr':
                        return `Sen "Medixio"sun, akıllı ve gelişmiş bir tıbbi asistan. En son yapay zeka teknolojisini kullanarak Türkçe olarak ayrıntılı ve profesyonel tıbbi danışmanlık sağlıyorsun.\n\nGörevlerin:\n- Semptomları ve tıbbi geçmişi analiz et\n- Laboratuvar ve görüntüleme testleri öner\n- Aşamalı tedavi planları sun\n- Hastalıkları ve tedavileri basitçe açıkla\n- Önleme ve takip tavsiyeleri ver\n- Acil durumlarda acil tıbbi yardım gerektiğini vurgula`;
                    case 'fr':
                        return `Vous êtes "Medixio", un assistant médical intelligent et avancé. Vous fournissez des consultations médicales détaillées et professionnelles en français, en utilisant la technologie d'IA la plus récente.\n\nVos tâches :\n- Analyser les symptômes et l'historique médical\n- Suggérer des examens de laboratoire et d'imagerie\n- Proposer des plans de traitement étape par étape\n- Expliquer les maladies et les traitements simplement\n- Donner des conseils de prévention et de suivi\n- Insister sur la nécessité de consulter en urgence en cas de danger`;
                    case 'es':
                        return `Eres "Medixio", un asistente médico inteligente y avanzado. Proporcionas consultas médicas detalladas y profesionales en español, utilizando la tecnología de IA más avanzada.\n\nTus tareas:\n- Analizar síntomas e historial médico\n- Sugerir pruebas de laboratorio e imagen\n- Proporcionar planes de tratamiento paso a paso\n- Explicar enfermedades y tratamientos de forma sencilla\n- Dar consejos de prevención y seguimiento\n- Insistir en la necesidad de atención urgente en casos graves`;
                    case 'ar-eg':
                        return `انت "Medixio"، مساعد طبي ذكي وعصري. بتقدم استشارات طبية مفصلة باللهجة المصرية وبأسلوب بسيط وسهل، وبتستخدم أحدث تقنيات الذكاء الاصطناعي.\n\nمهامك:\n- تحليل الأعراض والتاريخ المرضي\n- اقتراح الفحوصات والتحاليل\n- وضع خطة علاجية خطوة بخطوة\n- شرح الأمراض والعلاجات بطريقة مبسطة بالمصري\n- نصائح للوقاية والمتابعة\n- في الحالات الطارئة: أكد على ضرورة التوجه للطوارئ فورًا`;
                    case 'ar':
                    default:
                        return `أنت "Medixio"، مساعد طبي ذكي متقدم ومتخصص في تقديم الاستشارات الطبية الشاملة والتفصيلية باللغة العربية، وتعتمد على أحدث نماذج الذكاء الاصطناعي المتوفرة عالميًا.\n\nمهامك:\n- التحليل التفصيلي للأعراض والتاريخ المرضي\n- اقتراح الفحوصات المخبرية والإشعاعية المطلوبة\n- تقديم خطط علاجية مرحلية ومفصلة\n- شرح آليات المرض والعلاج بطريقة علمية مبسطة\n- نصائح الوقاية والمتابعة طويلة المدى\n- في الحالات الطارئة: أكد على ضرورة التوجه الفوري للطوارئ`;
                }
            }

            async sendToAI(message) {
                // Add user message to conversation
                this.conversation.push({ role: 'user', content: message });
                // Build messages array: system prompt + conversation
                const messages = [
                    { role: 'system', content: this.getSystemPrompt() },
                    ...this.conversation
                ];
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 30000);

                try {
                    const response = await fetch('https://text.pollinations.ai/openai', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            model: "openai",
                            messages: messages,
                            temperature: 0.3,
                            max_tokens: 1200,
                            stream: false,
                            private: false
                        }),
                        signal: controller.signal
                    });

                    clearTimeout(timeoutId);

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const data = await response.json();
                    // Add bot response to conversation
                    this.conversation.push({ role: 'assistant', content: data.choices[0].message.content });
                    return data.choices[0].message.content;
                } catch (error) {
                    clearTimeout(timeoutId);
                    if (error.name === 'AbortError') {
                        throw new Error('انتهت مهلة الاتصال. يرجى المحاولة مرة أخرى.');
                    }
                    throw error;
                }
            }

            addMessage(text, type) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type}`;
                
                const avatar = document.createElement('div');
                avatar.className = 'message-avatar';
                avatar.innerHTML = type === 'user' ? '<i class="fas fa-user"></i>' : '<i class="fas fa-user-md"></i>';
                
                const content = document.createElement('div');
                content.className = 'message-content';
                content.innerHTML = this.formatMessage(text);
                
                const time = document.createElement('div');
                time.className = 'message-time';
                time.textContent = new Date().toLocaleTimeString('ar-SA', { 
                    hour: '2-digit', 
                    minute: '2-digit'
                });
                
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(content);
                content.appendChild(time);
                
                this.messagesContainer.insertBefore(messageDiv, this.typingIndicator);
                
                // Add has-messages class to hide welcome section
                this.messagesContainer.classList.add('has-messages');
                
                this.messageCount++;
                this.scrollToBottom();
            }

            addErrorMessage(text) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.innerHTML = `<i class="fas fa-exclamation-triangle"></i> ${text}`;
                this.messagesContainer.insertBefore(errorDiv, this.typingIndicator);
                this.scrollToBottom();
            }

            formatMessage(text) {
                return text
                    .replace(/\n/g, '<br>')
                    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                    .replace(/\*(.*?)\*/g, '<em>$1</em>')
                    .replace(/`(.*?)`/g, '<code style="background: rgba(30, 64, 175, 0.1); padding: 2px 4px; border-radius: 4px; font-size: 0.9em;">$1</code>')
                    .replace(/### (.*?)(?=\n|$)/g, '<h3 style="color: var(--primary); font-size: 1.1rem; font-weight: 600; margin: 0.5rem 0;">$1</h3>')
                    .replace(/## (.*?)(?=\n|$)/g, '<h2 style="color: var(--primary); font-size: 1.3rem; font-weight: 700; margin: 1rem 0 0.5rem 0;">$1</h2>');
            }

            showTypingIndicator() {
                this.typingIndicator.classList.add('show');
                this.scrollToBottom();
            }

            hideTypingIndicator() {
                this.typingIndicator.classList.remove('show');
            }

            scrollToBottom() {
                setTimeout(() => {
                    this.messagesContainer.scrollTop = this.messagesContainer.scrollHeight;
                }, 100);
            }
        }

        // Initialize the chatbot
        const chatbot = new MedicalChatbot();

        // Contact dropdown positioning
        function positionContactDropdown() {
            const contactContainer = document.querySelector('.contact-container');
            const contactDropdown = document.querySelector('.contact-dropdown');
            if (!contactContainer || !contactDropdown) return;

            // Reset position
            contactDropdown.style.right = '';
            contactDropdown.style.left = '';
            contactDropdown.style.top = '100%';
            contactDropdown.style.bottom = 'auto';
            contactDropdown.style.transform = '';
            contactDropdown.style.marginTop = '0.5rem';
            contactDropdown.style.marginBottom = '';

            const containerRect = contactContainer.getBoundingClientRect();
            const dropdownRect = contactDropdown.getBoundingClientRect();
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const isRTL = document.dir === 'rtl' || document.documentElement.dir === 'rtl';

            // Default: align to the icon's edge (right for LTR, left for RTL)
            if (isRTL) {
                contactDropdown.style.left = '0';
                contactDropdown.style.right = 'auto';
            } else {
                contactDropdown.style.right = '0';
                contactDropdown.style.left = 'auto';
            }

            // Check for right overflow (LTR) or left overflow (RTL)
            if (!isRTL && (containerRect.right + dropdownRect.width > viewportWidth)) {
                // Move to left if overflowing right
                contactDropdown.style.right = 'auto';
                contactDropdown.style.left = '0';
            }
            if (isRTL && (containerRect.left - dropdownRect.width < 0)) {
                // Move to right if overflowing left in RTL
                contactDropdown.style.left = 'auto';
                contactDropdown.style.right = '0';
            }

            // If still out of bounds, center horizontally
            let dropdownLeft = contactDropdown.getBoundingClientRect().left;
            let dropdownRight = contactDropdown.getBoundingClientRect().right;
            if (dropdownLeft < 0 || dropdownRight > viewportWidth) {
                contactDropdown.style.left = '50%';
                contactDropdown.style.right = 'auto';
                contactDropdown.style.transform = 'translateX(-50%)';
            }

            // Check for bottom overflow
            if (containerRect.bottom + dropdownRect.height > viewportHeight) {
                contactDropdown.style.top = 'auto';
                contactDropdown.style.bottom = '100%';
                contactDropdown.style.marginTop = '0';
                contactDropdown.style.marginBottom = '0.5rem';
            }
        }

        // Position dropdown on hover
        document.addEventListener('DOMContentLoaded', () => {
            const contactContainer = document.querySelector('.contact-container');
            if (contactContainer) {
                contactContainer.addEventListener('mouseenter', () => {
                    setTimeout(positionContactDropdown, 10);
                });
            }
        });

        // Reposition on window resize
        window.addEventListener('resize', positionContactDropdown);

        // Quick action function
        window.sendQuickAction = function(action) {
            if (chatbot && chatbot.messageInput) {
                chatbot.messageInput.value = action;
                chatbot.updateSendButtonState();
                chatbot.handleSendMessage();
            }
        };

        // Utility functions
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            }
        }

        // Error handling
        window.addEventListener('error', (event) => {
            console.error('Global error:', event.error);
        });

        window.addEventListener('unhandledrejection', (event) => {
            console.error('Unhandled promise rejection:', event.reason);
        });

        // Language dictionary for UI
        const LANG_UI = {
            en: {
                siteTitle: 'Medixio Medical AI',
                welcomeTitle: 'Medixio Medical AI',
                welcomeSubtitle: 'Advanced Smart Medical Assistant',
                welcomeDesc: 'Get accurate and comprehensive medical consultations using the latest AI technology. I can help you analyze symptoms, suggest tests, and provide trusted medical advice.',
                quickActionsTitle: 'Quick Consultations',
                quickActions: [
                    { text: 'I have a severe headache', icon: 'fa-head-side-cough', title: 'Headache', desc: 'Analyze headache causes' },
                    { text: 'I have abdominal pain', icon: 'fa-stomach', title: 'Abdominal Pain', desc: 'Diagnose abdominal pain' },
                    { text: 'I have a fever', icon: 'fa-thermometer-half', title: 'Fever', desc: 'Treat fever' },
                    { text: 'I feel tired and exhausted', icon: 'fa-bed', title: 'Fatigue', desc: 'Causes of fatigue' },
                    { text: 'I have sleep problems', icon: 'fa-moon', title: 'Sleep Issues', desc: 'Improve sleep' },
                    { text: 'I want nutrition advice', icon: 'fa-apple-alt', title: 'Nutrition Tips', desc: 'Healthy nutrition' },
                ],
                inputPlaceholder: 'Type your message here...'
            },
            tr: {
                siteTitle: 'Medixio Tıbbi Yapay Zeka',
                welcomeTitle: 'Medixio Tıbbi Yapay Zeka',
                welcomeSubtitle: 'Gelişmiş Akıllı Tıbbi Asistan',
                welcomeDesc: 'En son yapay zeka teknolojisiyle doğru ve kapsamlı tıbbi danışmanlık alın. Belirtileri analiz edebilir, testler önerebilir ve güvenilir tıbbi tavsiyeler verebilirim.',
                quickActionsTitle: 'Hızlı Danışmanlıklar',
                quickActions: [
                    { text: 'Şiddetli baş ağrım var', icon: 'fa-head-side-cough', title: 'Baş Ağrısı', desc: 'Baş ağrısı nedenleri' },
                    { text: 'Karnım ağrıyor', icon: 'fa-stomach', title: 'Karın Ağrısı', desc: 'Karın ağrısı teşhisi' },
                    { text: 'Ateşim var', icon: 'fa-thermometer-half', title: 'Ateş', desc: 'Ateş tedavisi' },
                    { text: 'Yorgun ve bitkin hissediyorum', icon: 'fa-bed', title: 'Yorgunluk', desc: 'Yorgunluk nedenleri' },
                    { text: 'Uyku sorunum var', icon: 'fa-moon', title: 'Uyku Sorunları', desc: 'Uyku iyileştirme' },
                    { text: 'Beslenme tavsiyesi istiyorum', icon: 'fa-apple-alt', title: 'Beslenme İpuçları', desc: 'Sağlıklı beslenme' },
                ],
                inputPlaceholder: 'Mesajınızı buraya yazın...'
            },
            fr: {
                siteTitle: 'Medixio IA Médicale',
                welcomeTitle: 'Medixio IA Médicale',
                welcomeSubtitle: 'Assistant Médical Intelligent Avancé',
                welcomeDesc: 'Obtenez des consultations médicales précises et complètes grâce à la dernière technologie d’IA. Je peux vous aider à analyser les symptômes, suggérer des examens et fournir des conseils médicaux fiables.',
                quickActionsTitle: 'Consultations Rapides',
                quickActions: [
                    { text: 'J’ai un mal de tête sévère', icon: 'fa-head-side-cough', title: 'Mal de tête', desc: 'Analyser les causes du mal de tête' },
                    { text: 'J’ai mal au ventre', icon: 'fa-stomach', title: 'Douleur abdominale', desc: 'Diagnostiquer la douleur abdominale' },
                    { text: 'J’ai de la fièvre', icon: 'fa-thermometer-half', title: 'Fièvre', desc: 'Traiter la fièvre' },
                    { text: 'Je me sens fatigué', icon: 'fa-bed', title: 'Fatigue', desc: 'Causes de la fatigue' },
                    { text: 'J’ai des problèmes de sommeil', icon: 'fa-moon', title: 'Problèmes de sommeil', desc: 'Améliorer le sommeil' },
                    { text: 'Je veux des conseils nutritionnels', icon: 'fa-apple-alt', title: 'Conseils nutrition', desc: 'Nutrition saine' },
                ],
                inputPlaceholder: 'Tapez votre message ici...'
            },
            es: {
                siteTitle: 'Medixio IA Médica',
                welcomeTitle: 'Medixio IA Médica',
                welcomeSubtitle: 'Asistente Médico Inteligente Avanzado',
                welcomeDesc: 'Obtén consultas médicas precisas y completas usando la última tecnología de IA. Puedo ayudarte a analizar síntomas, sugerir pruebas y dar consejos médicos confiables.',
                quickActionsTitle: 'Consultas Rápidas',
                quickActions: [
                    { text: 'Tengo un dolor de cabeza fuerte', icon: 'fa-head-side-cough', title: 'Dolor de cabeza', desc: 'Analizar causas del dolor de cabeza' },
                    { text: 'Tengo dolor abdominal', icon: 'fa-stomach', title: 'Dolor abdominal', desc: 'Diagnóstico del dolor abdominal' },
                    { text: 'Tengo fiebre', icon: 'fa-thermometer-half', title: 'Fiebre', desc: 'Tratar la fiebre' },
                    { text: 'Me siento cansado', icon: 'fa-bed', title: 'Fatiga', desc: 'Causas de la fatiga' },
                    { text: 'Tengo problemas de sueño', icon: 'fa-moon', title: 'Problemas de sueño', desc: 'Mejorar el sueño' },
                    { text: 'Quiero consejos de nutrición', icon: 'fa-apple-alt', title: 'Consejos de nutrición', desc: 'Nutrición saludable' },
                ],
                inputPlaceholder: 'Escribe tu mensaje aquí...'
            },
            ar: {
                siteTitle: 'Medixio للذكاء الطبي',
                welcomeTitle: 'Medixio للذكاء الطبي',
                welcomeSubtitle: 'مساعد طبي ذكي متقدم',
                welcomeDesc: 'احصل على استشارات طبية دقيقة وشاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. يمكنني مساعدتك في تحليل الأعراض، اقتراح الفحوصات، وتقديم نصائح طبية موثوقة.',
                quickActionsTitle: 'استشارات سريعة',
                quickActions: [
                    { text: 'أعاني من صداع شديد', icon: 'fa-head-side-cough', title: 'صداع', desc: 'تحليل أسباب الصداع' },
                    { text: 'أشعر بألم في البطن', icon: 'fa-stomach', title: 'ألم البطن', desc: 'تشخيص آلام البطن' },
                    { text: 'أعاني من ارتفاع في درجة الحرارة', icon: 'fa-thermometer-half', title: 'ارتفاع الحرارة', desc: 'علاج الحمى' },
                    { text: 'أشعر بتعب وإرهاق', icon: 'fa-bed', title: 'تعب وإرهاق', desc: 'أسباب التعب' },
                    { text: 'أعاني من مشاكل في النوم', icon: 'fa-moon', title: 'مشاكل النوم', desc: 'تحسين النوم' },
                    { text: 'أريد نصائح غذائية', icon: 'fa-apple-alt', title: 'نصائح غذائية', desc: 'تغذية صحية' },
                ],
                inputPlaceholder: 'اكتب رسالتك هنا...'
            },
            'ar-eg': {
                siteTitle: 'Medixio للذكاء الطبي',
                welcomeTitle: 'Medixio للذكاء الطبي',
                welcomeSubtitle: 'مساعد طبي ذكي عصري بالمصري',
                welcomeDesc: 'استشارات طبية دقيقة وسريعة باللهجة المصرية وبأحدث تقنيات الذكاء الاصطناعي. هساعدك تحلل الأعراض وتقترح فحوصات وتاخد نصايح طبية موثوقة.',
                quickActionsTitle: 'استشارات سريعة',
                quickActions: [
                    { text: 'عندي صداع جامد', icon: 'fa-head-side-cough', title: 'صداع', desc: 'تحليل أسباب الصداع' },
                    { text: 'بطني بتوجعني', icon: 'fa-stomach', title: 'وجع بطن', desc: 'تشخيص وجع البطن' },
                    { text: 'حرارتي عالية', icon: 'fa-thermometer-half', title: 'سخونية', desc: 'علاج السخونية' },
                    { text: 'حاسس بتعب وإرهاق', icon: 'fa-bed', title: 'تعب', desc: 'أسباب التعب' },
                    { text: 'مش بعرف أنام كويس', icon: 'fa-moon', title: 'مشاكل النوم', desc: 'تحسين النوم' },
                    { text: 'عايز نصايح أكل', icon: 'fa-apple-alt', title: 'نصايح أكل', desc: 'تغذية صحية' },
                ],
                inputPlaceholder: 'اكتب رسالتك هنا بالمصري...'
            }
        };

        function updateUILanguage(lang) {
            const dict = LANG_UI[lang] || LANG_UI['ar'];
            document.getElementById('siteTitle').textContent = dict.siteTitle;
            document.getElementById('welcomeTitle').textContent = dict.welcomeTitle;
            document.getElementById('welcomeSubtitle').textContent = dict.welcomeSubtitle;
            document.getElementById('welcomeDesc').textContent = dict.welcomeDesc;
            document.getElementById('quickActionsTitle').textContent = dict.quickActionsTitle;
            // Render quick actions
            const grid = document.getElementById('quickActionsGrid');
            grid.innerHTML = '';
            dict.quickActions.forEach(action => {
                const card = document.createElement('div');
                card.className = 'quick-action-card';
                card.tabIndex = 0;
                card.onclick = () => sendQuickAction(action.text);
                card.onkeydown = (e) => { if (e.key === 'Enter' || e.key === ' ') sendQuickAction(action.text); };
                card.innerHTML = `
                    <div class="quick-action-icon"><i class="fas ${action.icon}"></i></div>
                    <div class="quick-action-title">${action.title}</div>
                    <div class="quick-action-description">${action.desc}</div>
                `;
                grid.appendChild(card);
            });
            // Input placeholder
            document.getElementById('messageInput').placeholder = dict.inputPlaceholder;
        }

        // On language change
        document.addEventListener('DOMContentLoaded', () => {
            const langSelector = document.getElementById('languageSelector');
            if (langSelector) {
                updateUILanguage(langSelector.value);
                langSelector.addEventListener('change', (e) => {
                    updateUILanguage(e.target.value);
                });
            }
        });
    </script>
</body>
</html> 
